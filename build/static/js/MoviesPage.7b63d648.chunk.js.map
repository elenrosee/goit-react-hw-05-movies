{"version":3,"sources":["Services/apiService.js","components/MoviesList/MoviesList.js","components/Searchbar/Searchbar.module.scss","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/Searchbar/Searchbar.js","components/views/MoviesPage/MoviesPage.js"],"names":["KEY","BASE_URL","fetchWithErrorHandling","a","url","config","fetch","response","ok","json","Promise","reject","Error","fetchTrendingMovie","query","period","fetchMovieById","movieId","fetchMovieByName","request","fetchMovieCastById","fetchMovieReviewsById","MoviesList","arr","location","useLocation","map","id","title","className","to","pathname","slugify","lower","state","prevPath","module","exports","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","Searchbar","setSearchingMovies","useState","setRequest","history","useHistory","searchQueryUrl","URLSearchParams","search","get","useEffect","then","results","styles","onSubmit","e","preventDefault","trim","alert","SearchForm","SearchForm_input","type","name","autoComplete","onChange","currentTarget","autoFocus","placeholder","SearchForm_button","SearchForm_button_label","memo","MoviesPage","searchingMovies"],"mappings":"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","file":"static/js/MoviesPage.7b63d648.chunk.js","sourcesContent":["const KEY = \"357b0f432d66a0bd560e276035046b29\";\nconst BASE_URL = \"https://api.themoviedb.org/3/\";\n\n//fetch(`${BASE_URL}api_key=${KEY}`)\n\nasync function fetchWithErrorHandling(url = \"\", config = {}) {\n  const response = await fetch(url, config);\n  return response.ok\n    ? await response.json()\n    : Promise.reject(new Error(\"Not found\"));\n}\n\nexport function fetchTrendingMovie(query, period) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}trending/${query}/${period}?api_key=${KEY}`\n  );\n}\n\nexport function fetchMovieById(movieId) {\n  return fetchWithErrorHandling(`${BASE_URL}movie/${movieId}?api_key=${KEY}`);\n}\n\nexport function fetchMovieByName(request) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}search/movie?api_key=${KEY}&language=en-US&query=${request}&page=1&include_adult=false`\n  );\n}\n\nexport function fetchMovieCastById(movieId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}movie/${movieId}/credits?api_key=${KEY}&language=en-US`\n  );\n}\n\nexport function fetchMovieReviewsById(movieId) {\n  return fetchWithErrorHandling(\n    `${BASE_URL}movie/${movieId}/reviews?api_key=${KEY}&language=en-US&page=1`\n  );\n}\n","import { Link, useLocation } from \"react-router-dom\";\nimport slugify from \"slugify\";\n\nexport default function MoviesList({ arr }) {\n  const location = useLocation();\n\n  return (\n    <ul>\n      {arr.map(({ id, title }) => (\n        <li key={id} className=\"ImageGalleryItem\">\n          <Link\n            to={{\n              pathname: `/movies/${slugify(`${title} ${id}`, { lower: true })}`,\n              state: { prevPath: location },\n            }}\n          >\n            {title}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2Ep_q\",\"SearchForm\":\"Searchbar_SearchForm__2I4mE\",\"SearchForm_button\":\"Searchbar_SearchForm_button__3YANn\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__5w37-\",\"SearchForm_input\":\"Searchbar_SearchForm_input__7oOGV\",\"SearchForm-input\":\"Searchbar_SearchForm-input__2VZGK\"};","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import { memo, useEffect, useState } from \"react\";\nimport { useHistory, useLocation } from \"react-router\";\nimport { fetchMovieByName } from \"../../Services/apiService\";\nimport styles from \"./Searchbar.module.scss\";\n\nfunction Searchbar({ setSearchingMovies }) {\n  const [request, setRequest] = useState(\"\");\n  const history = useHistory();\n  const location = useLocation();\n\n  const searchQueryUrl = new URLSearchParams(location.search).get(\"query\");\n\n  useEffect(() => {\n    if (!searchQueryUrl) {\n      return;\n    }\n\n    fetchMovieByName(searchQueryUrl).then(({ results }) => {\n      setSearchingMovies([...results]);\n    });\n  }, [searchQueryUrl, setSearchingMovies]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (request.trim()) {\n      fetchMovieByName(request).then(({ results }) => {\n        setSearchingMovies([...results]);\n      });\n      history.push({\n        ...location,\n        search: `query=${request}`,\n      });\n    } else {\n      alert(\"Enter search request\");\n    }\n  };\n\n  return (\n    <div className={styles.Searchbar}>\n      <form onSubmit={handleSubmit} className={styles.SearchForm}>\n        <input\n          className={styles.SearchForm_input}\n          type=\"text\"\n          name=\"request\"\n          autoComplete=\"off\"\n          onChange={(e) => {\n            setRequest(e.currentTarget.value);\n          }}\n          value={request}\n          autoFocus\n          placeholder=\"Search movie\"\n        />\n        <button type=\"submit\" className={styles.SearchForm_button}>\n          <span className={styles.SearchForm_button_label}></span>\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default memo(Searchbar);\n","import { Fragment, useState } from \"react\";\nimport MoviesList from \"../../MoviesList\";\nimport Searchbar from \"../../Searchbar\";\n\nexport default function MoviesPage() {\n  const [searchingMovies, setSearchingMovies] = useState([]);\n\n  return (\n    <Fragment>\n      <Searchbar setSearchingMovies={setSearchingMovies} />\n      <MoviesList arr={searchingMovies} />\n    </Fragment>\n  );\n}\n"],"sourceRoot":""}